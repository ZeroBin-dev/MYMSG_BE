<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.myapi.mymsgapi.dao.user.UserDAO">

  <insert id="insertUser" parameterType="com.myapi.mymsgapi.contoller.user.dto.UserJnRequest">
    /* 회원가입 */
    INSERT INTO USER_MASTER(
    USER_ID
    ,USER_PW
    ,USER_NAME
    ,PW_ERR_CNT
    ,REG_DT
    ,MOD_DT
    ) VALUES (
    #{userId}
    ,#{userPw}
    ,#{userName}
    ,0
    ,now()
    ,now()
    )
  </insert>

  <select id="dupChkUserId" parameterType="String" resultType="Integer">
    /* 아이디 중복 체크 */
    SELECT
    COUNT(*) AS CNT
    FROM USER_MASTER
    WHERE
    USER_ID = #{userId}
  </select>

</mapper>